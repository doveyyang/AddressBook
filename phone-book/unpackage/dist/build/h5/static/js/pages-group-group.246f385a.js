(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-group-group"],{"05ad":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=e("2f62"),n=o(e("b684"));function o(t){return t&&t.__esModule?t:{default:t}}var s={data:function(){return{list:[],menuArrow:!0,menuBorder:!1,menuCard:!1,iconList:[{icon:"add",color:"red",badge:0,name:"分组",page:"/pages/addgroup/addgroup"},{icon:"add",color:"orange",badge:0,name:"联系人",page:"/pages/addperson/addperson"},{icon:"edit",color:"orange",badge:0,name:"编辑",page:"edit"},{icon:"share",color:"olive",badge:0,name:"分享",page:"/pages/sharegroup/sharegroup"}],modalName:null,gridCol:4,gridBorder:!1,currentId:-1,personList:[],title:"",level:0}},computed:(0,i.mapState)(["forcedLogin","hasLogin","userName","info","password"]),onLoad:function(t){this.hasLogin||uni.reLaunch({url:"../main/main"}),console.log(t.id),console.log(JSON.stringify(t)),t.id?(this.currentId=t.id,this.level=t.level):uni.reLaunch({url:"../main/main"})},onShow:function(){this.initData()},methods:{initData:function(){var t=this,a=JSON.parse(this.info),e={};e.password=this.password,e.id=a.id,e.account=a.account,e.token=a.token,e.level=this.currentId,uni.showLoading({}),uni.request({url:"".concat(n.default.BASEURL,"/Addressbook/index"),data:e,method:"POST",header:{"content-type":"application/json"},success:function(a){if(a.data&&200!=a.data.code)uni.showToast({title:a.data.msg,icon:"none"});else{a.data.data&&a.data.data.group&&a.data.data.group.length>0&&(t.list=a.data.data.group),a.data.data&&a.data.data.list&&a.data.data.list.length>0&&(t.personList=a.data.data.list)}},complete:function(){uni.hideLoading()}})},gotogroup:function(t){uni.navigateTo({url:"/pages/group/group?id=".concat(t,"&level=").concat(this.currentId)})},setTitle:function(t){this.title=t},gotoUrl:function(t){switch(t){case"/pages/addgroup/addgroup":uni.navigateTo({url:"".concat(t,"?id=").concat(this.currentId)});break;case"/pages/addperson/addperson":uni.navigateTo({url:"".concat(t,"?id=").concat(this.currentId)});break;case"edit":uni.navigateTo({url:"../addgroup/addgroup?id=".concat(this.currentId,"&isEdit=true&name=").concat(this.title)});break;case"/pages/sharegroup/sharegroup":uni.navigateTo({url:"".concat(t,"?id=").concat(this.currentId,"&groupname=").concat(this.title)});break;default:break}},showModal:function(t){this.modalName="RadioModal"},hideModal:function(t){this.modalName=null},editgroup:function(){this.hideModal(),console.log("编辑分组"),uni.navigateTo({url:"../addgroup/addgroup?id=".concat(this.currentId,"&isEdit=true&name=").concat(this.title)})},deletegroup:function(){this.modalName="DialogModal1"},showDetail:function(t){uni.navigateTo({url:"../editperson/editperson?cid=".concat(t.id)})},delGroup:function(){this.modalName=null,uni.showToast({icon:"loading"});var t={};t.password=this.password;var a=JSON.parse(this.info);t.id=a.id,t.account=a.account,t.token=a.token,t.cid=this.currentId,uni.request({url:"".concat(n.default.BASEURL,"/Addbookcategory/delcate"),data:t,method:"POST",header:{"content-type":"application/json"},success:function(t){t.data&&200!=t.data.code?uni.showToast({title:t.data.msg,icon:"none"}):uni.showToast({title:t.data.msg,success:function(){}})}})},delgroup:function(t){console.log("delete group",t);var a=this;uni.showToast({icon:"loading"});var e={};e.password=this.password;var i=JSON.parse(this.info);e.id=i.id,e.account=i.account,e.token=i.token,e.cid=t,uni.request({url:"".concat(n.default.BASEURL,"/Addbookcategory/delcate"),data:e,method:"POST",header:{"content-type":"application/json"},success:function(t){t.data&&200!=t.data.code?uni.showToast({title:t.data.msg,icon:"none"}):uni.showToast({title:t.data.msg,success:function(){a.initData()}})}})},ListTouchStart:function(t){this.listTouchStart=t.touches[0].pageX},ListTouchMove:function(t){this.listTouchDirection=t.touches[0].pageX-this.listTouchStart>0?"right":"left"},ListTouchEnd:function(t){"left"==this.listTouchDirection?this.modalName=t.currentTarget.dataset.target:this.modalName=null,this.listTouchDirection=null}}};a.default=s},3653:function(t,a,e){a=t.exports=e("2350")(!1),a.push([t.i,".hello[data-v-3f323bce]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.btn-dlg[data-v-3f323bce]{padding:%?20?%}.btn-dlg uni-button[data-v-3f323bce]{margin:%?20?%}.title[data-v-3f323bce]{color:#8f8f94;margin-top:%?50?%}.ul[data-v-3f323bce]{font-size:%?30?%;color:#8f8f94;margin-top:%?50?%}.ul>uni-view[data-v-3f323bce]{line-height:%?50?%}.action-row[data-v-3f323bce]{position:fixed;bottom:%?100?%;left:0}.right-box[data-v-3f323bce]{margin-right:%?20?%}.empty[data-v-3f323bce]{text-indent:.5em}.group-item[data-v-3f323bce]{border-bottom:1px solid #ccc;margin:%?10?% 0}.cu-list.menu-avatar>.cu-item[data-v-3f323bce]{height:%?100?%}",""])},"4db7":function(t,a,e){"use strict";e.r(a);var i=e("54ec"),n=e("7e15");for(var o in n)"default"!==o&&function(t){e.d(a,t,function(){return n[t]})}(o);e("6c8f");var s=e("2877"),c=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,"3f323bce",null);a["default"]=c.exports},"54ec":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",[e("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0}},[e("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),e("template",{attrs:{slot:"content"},slot:"content"},[t._v("组分类")])],2),e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"cu-list grid",class:["col-"+t.gridCol,t.gridBorder?"":"no-border"]},t._l(t.iconList,function(a,i){return i<2*t.gridCol?e("v-uni-view",{key:i,staticClass:"cu-item",on:{click:function(e){e=t.$handleEvent(e),t.gotoUrl(a.page)}}},[e("v-uni-view",{class:["cuIcon-"+a.icon,"text-"+a.color]},[0!=a.badge?e("v-uni-view",{staticClass:"cu-tag badge"},[1!=a.badge?[t._v(t._s(a.badge>99?"99+":a.badge))]:t._e()],2):t._e()],1),e("v-uni-text",[t._v(t._s(a.name))])],1):t._e()}),1),e("v-uni-view",{staticClass:"cu-list menu-avatar margin-top"},t._l(t.list,function(a,i){return e("v-uni-view",{key:i,staticClass:"cu-item group-item",class:t.modalName=="move-box-"+i?"move-cur":"",attrs:{"data-target":"move-box-"+i},on:{touchstart:function(a){a=t.$handleEvent(a),t.ListTouchStart(a)},touchmove:function(a){a=t.$handleEvent(a),t.ListTouchMove(a)},touchend:function(a){a=t.$handleEvent(a),t.ListTouchEnd(a)},click:function(e){e=t.$handleEvent(e),t.gotogroup(a.id)}}},[e("v-uni-view",{staticClass:" cu-avatar round sm"},[e("v-uni-text",{staticClass:"cuIcon-group_fill text-pink"})],1),e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"text-black"},[t._v(t._s(a.name))])],1),e("v-uni-view",{staticClass:"action"},["我"!=a.nickname?e("v-uni-view",{staticClass:"cu-tag round text-grey sm"},[t._v(t._s(a.count))]):t._e()],1),e("v-uni-view",{staticClass:"move"},[e("v-uni-view",{staticClass:"bg-red",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.delgroup(a.id)}}},[t._v("删除")])],1)],1)}),1),e("v-uni-view",{staticClass:"cu-list menu-avatar"},[t._l(t.personList,function(a,i){return e("v-uni-view",{key:i,staticClass:"cu-item",on:{click:function(e){e=t.$handleEvent(e),t.showDetail(a)}}},[e("v-uni-view",{staticClass:"cu-avatar round ",style:"background-image:url(//addressbook.jingru88.com/uploads/images/"+a.head_img+");"}),e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"text-black"},[t._v(t._s(a.name))]),e("v-uni-view",{staticClass:"text-gray text-sm flex"},[e("v-uni-text",{staticClass:"text-cut"},[t._v(t._s(a.company))])],1)],1),e("v-uni-view",{staticClass:"action"},[e("v-uni-view",{staticClass:"text-grey text-xs text-cut"},[t._v(t._s(a.position))])],1)],1)}),0==t.personList.length?e("v-uni-view",{staticClass:"empty"},[t._v("未添加好友")]):t._e()],2),e("v-uni-view",{staticClass:"cu-modal",class:"RadioModal"==t.modalName?"show":"",on:{click:function(a){a=t.$handleEvent(a),t.hideModal(a)}}},[e("v-uni-view",{staticClass:"cu-dialog btn-dlg",on:{click:function(a){a.stopPropagation(),a=t.$handleEvent(a)}}},[e("v-uni-button",{attrs:{type:"primary"},on:{click:function(a){a=t.$handleEvent(a),t.editgroup(a)}}},[t._v("编辑分组")]),e("v-uni-button",{attrs:{type:"warn","data-target":"DialogModal1"},on:{click:function(a){a=t.$handleEvent(a),t.deletegroup(a)}}},[t._v("删除分组")])],1)],1),e("v-uni-view",{staticClass:"cu-modal",class:"DialogModal1"==t.modalName?"show":""},[e("v-uni-view",{staticClass:"cu-dialog"},[e("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[e("v-uni-view",{staticClass:"content"},[t._v("Modal标题")]),e("v-uni-view",{staticClass:"action",on:{click:function(a){a=t.$handleEvent(a),t.hideModal(a)}}},[e("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),e("v-uni-view",{staticClass:"padding-xl"},[t._v("Modal 内容。")]),e("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[e("v-uni-view",{staticClass:"action"},[e("v-uni-button",{staticClass:"cu-btn line-green text-green",on:{click:function(a){a=t.$handleEvent(a),t.hideModal(a)}}},[t._v("取消")]),e("v-uni-button",{staticClass:"cu-btn bg-green margin-left",on:{click:function(a){a=t.$handleEvent(a),t.delGroup(a)}}},[t._v("确定")])],1)],1)],1)],1)],1)],1)},n=[];e.d(a,"a",function(){return i}),e.d(a,"b",function(){return n})},"6c8f":function(t,a,e){"use strict";var i=e("d858"),n=e.n(i);n.a},"7e15":function(t,a,e){"use strict";e.r(a);var i=e("05ad"),n=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(a,t,function(){return i[t]})}(o);a["default"]=n.a},b684:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i="USERS_KEY",n="//addressbook.jingru88.com/api",o="http://addressbook.jingru88.com/uploads/images/",s=function(){var t="";return t=uni.getStorageSync(i),t||(t="[]"),JSON.parse(t)},c=function(t){var a=s();a.push({account:t.account,password:t.password}),uni.setStorageSync(i,JSON.stringify(a))},u={getUsers:s,addUser:c,BASEURL:n,BASEIMGURL:o};a.default=u},d858:function(t,a,e){var i=e("3653");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("0b6e69e5",i,!0,{sourceMap:!1,shadowMode:!1})}}]);